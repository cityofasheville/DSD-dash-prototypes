<!DOCTYPE html>
<html>
<head>
  <title></title>
  <script src="https://d3js.org/d3.v4.min.js"></script>
  <script type="text/javascript" src="./data.js"></script>
  <style type="text/css">
    html, body {
      height: 100vh;
      width: 100vw;
      font-family: 'Alegreya Sans', sans-serif;
      margin: 0;
      overflow: hidden;
      padding: 0;
    }
    .vis {
      width: 100%;
      height: 100vh;
    }
  </style>
</head>
  <script type="text/javascript">


  const volumeKeys = [
    'Single Family',
    'Multi Family',
    'Town Houses',
    'Duplexes',
    'Commercial',
    'Residential Alterations and Additions',
    'Commercial Alterations and Additions',
    'Mobile Homes',
  ]
  // add ' Construction Value' to get value

  document.addEventListener("DOMContentLoaded", function() {

    const volByType = {}

    volumeKeys.forEach(volKey => {
      volByType[volKey] = {}
      permitVol.forEach(d => {
        const splitDate = d['Month & Year'].split(' ')
        const month = splitDate[0];
        const year = d['Month & Year'].split(' ')[1]

        if (!volByType[volKey][year]) {
          volByType[volKey][year] = []
        }

        volByType[volKey][year][month] = d[volKey];
      })
    })

    console.log(volByType)

    // chart showing by year for volume to see seasonal trends
    // x axis is month
    // y axis is volume
    // scaled circles to represent dollar amount
    // shading and color indicate type

    // let people toggle dollar amount showing or not?
    // let people toggle all years?

    // plot volume and dollar amount together - with calendar selector? stacked boxes?  let people add a month at a time to compare
    // play button on a brush slider?
    // toggle button to show brush or month boxes?



  });
  </script>
<body>
  <div class="vis">
  </div>
</body>
</html>